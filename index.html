<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>bootzap</title>

    <!-- Bootstrap 5.3.0 -->
    <!-- <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      crossorigin="anonymous"
    /> -->

    <!-- Font-awesome 6.4.2 -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- Custom style -->
    <link rel="stylesheet" href="./css/style.css" />

    <!-- Luxon -->
    <script src="https://cdn.jsdelivr.net/npm/luxon@3.4.2/build/global/luxon.min.js"></script>

    <!-- Vue 3 -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <!-- Vue 3 app - Options API -->
    <script src="./contat.js" type="text/javascript" defer></script>
    <script src="./js/main.js" type="text/javascript" defer></script>
  </head>

  <body>
    <div class="wrapper" id="app">
      <!-- COL CONTACTS -->
      <div class="col-contacts">
        <!-- COL CONTACTS HEADER -->
        <header class="col-header">
          <div class="user">
            <div class="user-pic">
              <img src="./img/avatar_io.jpg" alt="" />
            </div>

            <div class="main-text">
              <h3 class="main-text-upper">Sofia</h3>
            </div>
          </div>
          <div class="icons-container">
            <i class="fa-solid fa-circle-notch"></i>
            <i class="fa-solid fa-message"></i>
            <i class="fa-solid fa-ellipsis-vertical"></i>
          </div>
        </header>

        <!-- COL CONTACTS DISCLAIMER -->
        <div class="disclaimer">
          <div class="icon-container">
            <i class="fa-solid fa-bell-slash"></i>
          </div>
          <div class="main-text">
            <h3 class="main-text-upper">Ricevi notifiche di nuovi messaggi</h3>
            <a class="main-text-lower" href="#">Attiva notifiche desktop</a>
          </div>
        </div>

        <!-- CONTACTS SEARCH -->
        <div class="contact-search">
          <div class="search-container">
            <div class="search-icon">
              <i class="fa-solid fa-magnifying-glass"></i>
            </div>
            <input class="search-input" type="text" />
          </div>
        </div>

        <!-- CONTACTS LIST -->
        <ul class="contacts-list">

            <!-- contact v-for -->
          <li class="contact" 
          v-for="(contact, index) in contacts" 
          @click="setActiveContactIndex(index)">
            <div class="contact-pic">
              <img :src="'./img/avatar_' + contact.avatar" alt="" />
            </div>

            <div class="main-text">
              <h3 class="main-text-upper">{{ contact.name }}</h3>
              <h4 class="main-text-lower">Ultimo accesso oggi alle 12:00</h4>
            </div>

            <div class="time">12:00</div>
          </li>
          <li class="contact">
            <div class="contact-pic">
              <img :src="contacts[activeContactIndex].avatar" alt="" />
            </div>

            <div class="main-text">
              <h3 class="main-text-upper">{{ contacts[activeContactIndex].name }}</h3>
              <h4 class="main-text-lower">Ultimo accesso oggi alle 12:00</h4>
            </div>

            <div class="time">12:00</div>
          </li>
          <li class="contact">
            <div class="contact-pic">
              <img src="./img/avatar_3.jpg" alt="" />
            </div>

            <div class="main-text">
              <h3 class="main-text-upper">Michele</h3>
              <h4 class="main-text-lower">Ultimo accesso oggi alle 12:00</h4>
            </div>

            <div class="time">12:00</div>
          </li>
          <li class="contact">
            <div class="contact-pic">
              <img src="./img/avatar_4.jpg" alt="" />
            </div>

            <div class="main-text">
              <h3 class="main-text-upper">Michele</h3>
              <h4 class="main-text-lower">Ultimo accesso oggi alle 12:00</h4>
            </div>

            <div class="time">12:00</div>
          </li>
        </ul>
      </div>

      <!-- COL CHAT -->
      <main class="col-chat">
        <!-- COL CHAT HEADER -->
        <header class="col-header">
          <div class="user">
            <div class="user-pic">
              <img src="./img/avatar_1.jpg" alt="" />
            </div>

            <div class="main-text">
              <h3 class="main-text-upper">Michele</h3>
              <h4 class="main-text-lower">Ultimo accesso oggi alle 12:00</h4>
            </div>
          </div>
          <div class="icons-container">
            <i class="fa-solid fa-magnifying-glass"></i>
            <i class="fa-solid fa-paperclip"></i>
            <i class="fa-solid fa-ellipsis-vertical"></i>
          </div>
        </header>

        <section class="messages">
          <div class="message"
          :class="message.status"
           v-for="message in activeContact.messages">
           {{ message.message }}
           <small>
            {{ message.date }}
           </small>
          </div>
          <div class="message sent">
            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Mollitia
            magnam nihil cupiditate. Corrupti modi ex recusandae exercitationem
            accusamus, quo odit est adipisci dignissimos quibusdam eaque beatae
            quasi harum, ab accusantium.
          </div>
          <div class="message received">
            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Mollitia
            magnam nihil cupiditate. Corrupti modi ex recusandae exercitationem
            accusamus, quo odit est adipisci dignissimos quibusdam eaque beatae
            quasi harum, ab accusantium.
          </div>
        </section>

        <footer class="user-actions">
          <div class="icons-container">
            <i class="fa-solid fa-face-smile"></i>
          </div>

          <div class="message-bar">
            <input class="message-input" type="text" v-model="newMessage.message"
            @keyUp.enter="sendNewMessage()" />
          </div>

          <div class="icons-container">
            <i class="fa-solid fa-microphone"></i>
          </div>
        </footer>
      </main>
    </div>
  </body>
</html>